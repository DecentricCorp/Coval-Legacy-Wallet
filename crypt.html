
<html>
<head>
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
    <script src="http://cdn.pubnub.com/pubnub-3.7.14.min.js"></script>
    <script>
        var encrypted = CryptoJS.AES.encrypt(JSON.stringify({"settings":{"hideoffline":false,"profileImagepublic":true,"profileImage":{"location":"base64","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACUCAYAAACX4ButAAAACXBIW…D///8A////AP///wD///8A////AP///wD///8AAQAA//8KjWBKMledtwAAAABJRU5ErkJggg=="},"namepublic":true,"name":"Mario","nicknamepublic":"","nickname":"","socialpublic":"","social":"Fixed the bug","biopublic":"","bio":"","currentcoin":{"name":"ribbit","short":"rbr"},"terms":true,"onboard":[{"target":"profile","panel":"name-panel"},{"target":"keys","panel":"keys-panel"},{"target":"backup","panel":"backup-panel"},{"target":"wallet","panel":"wallet-panel"}]},"address":{},"multisig":{},"pubkey":{},"privkey":{"Cm2K4b37obwTBHSYPN1WB6SCNjdcHWkm22wyUM9FbPzA5rgb3kf1KBRFrw2y23DW1pnWSQqyoQJHrDw5J1SoKdiBB6Tkq5jTmsi182sVVgKUEyQg":{"isIdentity":false,"key":"{\"network\":\"ribbit\",\"depth\":0,\"fingerPrint\":941617488,\"parentFingerPrint\":0,\"childIndex\":0,\"chainCode\":\"cfe11fa9345be333910ce609f6d5e259e740b6f58bbf7d383e44d9a0e6158f25\",\"privateKey\":\"0fe7776f2b64d6a9eaf35fce80b1fa9c65ac3134e1e98e0b424bda0553ebd1b3\",\"checksum\":-2004196107,\"xprivkey\":\"Cm2K4b37obwTBHSYPN1WB6SCNjdcHWkm22wyUM9FbPzA5rgb3kf1KBRFrw2y23DW1pnWSQqyoQJHrDw5J1SoKdiBB6Tkq5jTmsi182sVVgKUEyQg\"}","label":"New"},"xprv9s21ZrQH143K4WwKrTwzyU4iKVXoYoiysb2qfueKuDr7tw3jNeQE5zXVMYPw19LVr55FZF5i55YbCxWxoJvXVzXC7a7tMYNVQ9Xv4a5VbM3":{"isIdentity":false,"key":"{\"network\":\"livenet\",\"depth\":0,\"fingerPrint\":-1514297484,\"parentFingerPrint\":0,\"childIndex\":0,\"chainCode\":\"f6e9e84bee2b30f9ede804519c888227206cac9b3f631f5ecc261bbc7593ce4d\",\"privateKey\":\"75255e1dc83738cee0f2a588d2ae7ebdfdcf07e5648782b4ad47b6ea9417213a\",\"checksum\":1754625746,\"xprivkey\":\"xprv9s21ZrQH143K4WwKrTwzyU4iKVXoYoiysb2qfueKuDr7tw3jNeQE5zXVMYPw19LVr55FZF5i55YbCxWxoJvXVzXC7a7tMYNVQ9Xv4a5VbM3\"}","label":"BTC2"},"Cm2K4b37obwTBHSYPLN3pbUR4nmhXhevPQdeaozysQFQxfiktKpAMD7sY8R9Cd5yfUvHDjVfNUskYL97gswih4bxRmLoXkfSmyckTFWX5ck8nfF8":{"isIdentity":false,"key":"{\"network\":\"ribbit\",\"depth\":0,\"fingerPrint\":-1106979813,\"parentFingerPrint\":0,\"childIndex\":0,\"chainCode\":\"2a937955fe364ce249d7b79d4ef197fed162c02fe15b2d7b0f1f431fbeb15b54\",\"privateKey\":\"c42976bdc6e1f8711ecf979c522e02cf4306a773f8f6ba212849744376f5b849\",\"checksum\":-1118578269,\"xprivkey\":\"Cm2K4b37obwTBHSYPLN3pbUR4nmhXhevPQdeaozysQFQxfiktKpAMD7sY8R9Cd5yfUvHDjVfNUskYL97gswih4bxRmLoXkfSmyckTFWX5ck8nfF8\"}","label":"Neeeeewer"},"Cm2K4b37obwTBHSYPLNdx6t5t6BT3aQZQf1oyqdKn2dQbVegTPxBZ77Hr1k4espkkGhBF3S3ERiuWoQzx8X82QEnvsQzL5bPjHMN8e5v4xVWex8U":{"isIdentity":false,"key":"{\"network\":\"ribbit\",\"depth\":0,\"fingerPrint\":-1622372935,\"parentFingerPrint\":0,\"childIndex\":0,\"chainCode\":\"2b985876a116f88ec5005f06508922d7f31035ff3ed5fa4ba8f14b4d06381099\",\"privateKey\":\"98aa24e3feb16156f865d28a0d9753090764df5fc9fe1004266841e00f2f1799\",\"checksum\":1993901253,\"xprivkey\":\"Cm2K4b37obwTBHSYPLNdx6t5t6BT3aQZQf1oyqdKn2dQbVegTPxBZ77Hr1k4espkkGhBF3S3ERiuWoQzx8X82QEnvsQzL5bPjHMN8e5v4xVWex8U\"}","label":"New Account"}},"channel":{},"cloud":{"box":"77726951"},"peers":{"Ru6N3isCmBpojc7GMvX3gbzHJ6AqqjNNU2":{"name":"Mario","nickname":"","social":"Fixed the bug","bio":"","address":"Ru6N3isCmBpojc7GMvX3gbzHJ6AqqjNNU2","peerid":"cid8zexr000003ag7gimplabj","online":false,"photo":{"location":"base64","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAAHWCAYAAABpHgzZAAAABGdBT…DRRx999ODRRx999ODRRx999ODRRx999NGDRx999PGFi/8HOK4xkds1eq0AAAAASUVORK5CYII="}},"FF67KvCxDa3hkwsnReLeGzkMBQDR2sxMem":{"address":"FF67KvCxDa3hkwsnReLeGzkMBQDR2sxMem","peerid":"cicqn06xj000033fkos62lhoa","online":false},"RiaejFZ9fw86AveqkuyPEA6QNedNepBDRU":{"address":"RiaejFZ9fw86AveqkuyPEA6QNedNepBDRU","peerid":"cicqn1bfc000039ftrn6g75ut","online":false},"RaymTxSDwmBEyCwY51ifpqo76BMD36c1kw":{"address":"RaymTxSDwmBEyCwY51ifpqo76BMD36c1kw","peerid":"cicqqydkl00004lfl0sr463k2","online":false},"RrkbUbhgXv6AdX5Du48ebPQrWQbmB2YJDJ":{"name":"John Doe","nickname":"johndoe","bio":"none","address":"RrkbUbhgXv6AdX5Du48ebPQrWQbmB2YJDJ","peerid":"cicrc5ld0000035fozipldhpt","online":false,"photo":{"location":"stock","id":78}},"RrV81yzchhR86NPLKJZpS2yw2dnNwfegDe":{"address":"RrV81yzchhR86NPLKJZpS2yw2dnNwfegDe","peerid":"cicrpook400003afyvf8mtw1k","online":false},"Rp3kibeKfMC77523sy4En1ZrTwqC7Cza3p":{"address":"Rp3kibeKfMC77523sy4En1ZrTwqC7Cza3p","peerid":"cicrpppze00003afylzhc44hz","online":false},"FJ2TLGft3Xvu8XLS5MbxBe6nCS7tX7r8au":{"name":"What the fox say","social":"Testingss","nickname":"TankGrr","bio":"","address":"FJ2TLGft3Xvu8XLS5MbxBe6nCS7tX7r8au","peerid":"cid8xvp3d00004mfzb4ckc046","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUG…AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k="}},"Rsoemh3Z2DC6gfmQBFk6QEkLWJpd1WbZbd":{"name":"Sean Dennis","nickname":"seantoe","social":"ribbitsean","bio":"I love lamp","address":"Rsoemh3Z2DC6gfmQBFk6QEkLWJpd1WbZbd","peerid":"cics8id4g00003lfyvq9ubrbj","online":false},"RsPearT568gm4NCnvmK6W2MjXbZGJYo92d":{"address":"RsPearT568gm4NCnvmK6W2MjXbZGJYo92d","peerid":"cicwxlfm200003ag3gx5biuig","online":false},"Rjo8ujHcvoZ2Fr7UEy5bLELi8KN1eWJd1n":{"name":"Whoa!","address":"Rjo8ujHcvoZ2Fr7UEy5bLELi8KN1eWJd1n","peerid":"cicwxhuin00003ag3u9cd0v12","online":false,"photo":{"location":"stock","id":44}},"Rpp73fEkWHvCE2baG2UgvxHisJATvaR4C8":{"address":"Rpp73fEkWHvCE2baG2UgvxHisJATvaR4C8","peerid":"cicwyc74b000047g7qj6zqyr5","online":false},"Rpv4MRidbDho1CHZEaRzL4UAsNaNf4DFD2":{"name":"Whoa!","address":"Rpv4MRidbDho1CHZEaRzL4UAsNaNf4DFD2","peerid":"cid7qyt8j00003ag3lrocbr0z","online":false,"photo":{"location":"base64","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAGDf+RsAAAAGXRFW…kSAEiTJk2aNGnSJACQJk2aNGnSpEkAIE2aNGnSpEn7Wth/Awvxn3drBzI7AAAAAElFTkSuQmCC"}},"RuAfNescqxB5yvAXx53QhaNFb9Fx41mMZt":{"name":"Ribbit","nickname":"","social":"","bio":"","address":"RuAfNescqxB5yvAXx53QhaNFb9Fx41mMZt","peerid":"cidaa5y2j00003aganexi01yq","online":false,"photo":{"location":"base64","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACUCAYAAACX4ButAAAACXBIW…D///8A////AP///wD///8A////AP///wD///8AAQAA//8KjWBKMledtwAAAABJRU5ErkJggg=="}},"RwCpPxgTnmvEiXhzPNRMMRw4aqMVHchdm7":{"address":"RwCpPxgTnmvEiXhzPNRMMRw4aqMVHchdm7","peerid":"cid7xofyy00003ag4dwdsg9mb","online":false},"RYxBrESsMN62Biwfcpe49aVMCdpMZQ3WCd":{"name":"","nickname":"","social":"","bio":"","address":"RYxBrESsMN62Biwfcpe49aVMCdpMZQ3WCd","peerid":"cid7xx9i700003ag4k9o7b4qs","online":false,"photo":{"location":"stock","id":5}},"Ro9ACPyqG5CDAR9r7EwCer5czqatGyoyED":{"bio":"","name":"defcoin","nickname":"","photo":"./images/avatars/characters_4.png","social":"","address":"Ro9ACPyqG5CDAR9r7EwCer5czqatGyoyED","peerid":"cid8x3nph00003ag7wdqzy8fy","online":false},"RpqgNG4xAskeFfSRQz9jb6xLetZ94eWJRk":{"name":"??","nickname":"","social":"","bio":"","address":"RpqgNG4xAskeFfSRQz9jb6xLetZ94eWJRk","peerid":"cid8vywwm00003ag7soz5xcdd","online":false,"photo":{"location":"stock","id":3}},"Rr2KYv3RdBsApdpJwrRXvFBJ5Xe9nwjKLG":{"bio":"","name":"AppleTV","nickname":"","photo":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUG…AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k=","social":"","address":"Rr2KYv3RdBsApdpJwrRXvFBJ5Xe9nwjKLG","peerid":"cid8xj5fw00003ag7wyt6y33s","online":false},"RtiMXAuzFL3fX2wm9vP3fYRPcanoWGHxMc":{"name":"123","nickname":"","social":"","bio":"","address":"RtiMXAuzFL3fX2wm9vP3fYRPcanoWGHxMc","peerid":"cid8zu90l00003ag7mqz9tthf","online":false,"photo":{"location":"stock","id":3}},"RjdYYWkmTcDDixcxFsRtp8XZup1zDC3i1G":{"name":"Not Z","nickname":"My Nick","social":"","bio":"","address":"RjdYYWkmTcDDixcxFsRtp8XZup1zDC3i1G","peerid":"cid8ytvez00004mfz7g7dfyrp","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUG…AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k="}},"FD94u9hPbMEiHEhRfPx9PZG1YzaEBfxVsn":{"name":"Zlatko","nickname":"Z","social":"zbijelic","bio":"","address":"FD94u9hPbMEiHEhRfPx9PZG1YzaEBfxVsn","peerid":"cid972fak00003lg92hdmhfie","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4Sh3RXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUA…6UsY7H2WVQW1UF5yeXtPFP99HpEl06mRPZXlQEnUD28LKjq4fadc6qQRy3FuQAagnXlpx//9k="}},"RYvt1qw9uBM2zrxbRWsYWtUucZ3GZLYuUZ":{"name":"zbijelic","nickname":"","social":"","bio":"","address":"RYvt1qw9uBM2zrxbRWsYWtUucZ3GZLYuUZ","peerid":"cid98f23x00003lg9xkcni8fj","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4Sh3RXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUA…6UsY7H2WVQW1UF5yeXtPFP99HpEl06mRPZXlQEnUD28LKjq4fadc6qQRy3FuQAagnXlpx//9k="}},"Rs2dCjNsQixo1khZ1hZsrmKoXiPCJgDJCC":{"name":"Shannon Incognito","nickname":"","social":"","bio":"","address":"Rs2dCjNsQixo1khZ1hZsrmKoXiPCJgDJCC","peerid":"cida9ebvr00003agazjadisgz","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4gIcSUNDX1BST0ZJTEUAAQEAAAIMbGNtcwIQAABtbnRyUkdC…Og1zFdQ61AVV4GCPIeJohmUYa5lHwgiUSneFxzpxFtB3j3AMcuoX0IlDdxFyRAKfMVqu9s/9k="}},"RuQ4JM2eCfSMRwt2xSxJkbqfAqK496XgcU":{"name":"Sean Dennis","nickname":"Seantoe","social":"iamseandennis","bio":"I love Lamp","address":"RuQ4JM2eCfSMRwt2xSxJkbqfAqK496XgcU","peerid":"cidacz1v500003lgaw90w4mu9","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4TeIRXhpZgAATU0AKgAAAAgACAESAAMAAAABAAEAAAEaAAUA…/8V6ls+03n2dP7kKeXHW5bWlxHn/ia/wDfb+Z5dJYT20EckVx/pCVL58sbvJG8EkP+59ygD//Z"}},"RgSmH3fqYEJGUQTB7SR4bY3opGXVfuayqC":{"name":"Mario","nickname":"It\'s Me","social":"@Mario_Super","bio":"I\'m a fun guy, I like plumbing and long walks in the forest.","address":"RgSmH3fqYEJGUQTB7SR4bY3opGXVfuayqC","peerid":"cidadnitp00003agavirqz1ar","online":false,"photo":{"location":"base64","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAAHWCAYAAABpHgzZAAAABGdBT…DRRx999ODRRx999ODRRx999ODRRx999NGDRx999PGFi/8HOK4xkds1eq0AAAAASUVORK5CYII="}},"RpujrggtRj6sm2mT7QtYuEtDfpBBxozAqc":{"address":"RpujrggtRj6sm2mT7QtYuEtDfpBBxozAqc","peerid":"cidajbtnx00003lgb67z4p5v7","online":false},"RoU3Fz885fobQDiTZC6Vx5uJcWpXGNWmL4":{"name":"Gregory Simon","nickname":"Greg","social":"","bio":"Co-Founder Ribbit.me","address":"RoU3Fz885fobQDiTZC6Vx5uJcWpXGNWmL4","peerid":"cidakh7t300003lgbe382nn44","online":false,"photo":{"location":"base64","data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD//gAEKgD/4gIcSUNDX1BST0ZJ…nRaWCz4Y4L0LBDewu6XWQrJseRPrrPoLc/9PMEzEax6dKojbGC5B+B/g3Wmpo2pyLCia/6f//Z"}}}}), "Secret Passphrase");
        // AABsAABkAABiAAAAAAAAAABNAABlAABPAAC0AABHAAA=

        var decrypted = CryptoJS.AES.decrypt(encrypted, "Secret Passphrase");
        // 4d657373616765

        //console.log(decrypted.toString(CryptoJS.enc.Utf8));
        // Message
        //console.log("encrypted",encrypted.toString())
    </script>
</head>
<body>
    <script>
        pubnub = PUBNUB({
            publish_key: 'demo',
            subscribe_key: 'demo'
        })

        function publish() {
            console.log("Subscribing..");
            pubnub.subscribe({
                channel: "ribbit",
                message: function (message, env, ch, timer, magic_ch) {
                    console.log(
                    "Message Received." + '<br>' +
                    "Channel: " + ch + '<br>' +
                    "Message: " + message + '<br>' +
                    "Raw Envelope: " + JSON.stringify(env) + '<br>' +
                    "Magic Channel: " + JSON.stringify(magic_ch)
                  )
                },
                connect: pub
            })

            pubnub.history({
                channel: 'ribbit',
                callback: function (m) { console.warn(m) },
                count: 100, // 100 is the default
                reverse: false // false is the default
            });

            function pub() {
                console.log("Since we’re publishing on subscribe connectEvent, we’re sure we’ll receive the following publish.");
                pubnub.publish({
                    channel: "ribbit",
                    message: encrypted.toString(),
                    callback: function (m) { console.log(m) }
                })
            }
        }
    </script>
</body>
</html>